var App=function(){"use strict";var e,s,a,l,t,o,n,i,r,d={assetsPath:"assets",imgPath:"img",jsPath:"js",libsPath:"lib",leftSidebarSlideSpeed:200,leftSidebarToggleSpeed:300,enableLeftSidebar:!0,enableSwipe:!0,swipeTreshold:100,scrollTop:!0,openRightSidebarClass:"open-right-sidebar",openLeftSidebarClass:"open-left-sidebar",disabledLeftSidebarClass:"be-left-sidebar-disabled",offCanvasLeftSidebarClass:"be-offcanvas-menu",toggleLeftSidebarButton:$(".be-toggle-left-sidebar"),closeRsOnClickOutside:!0,removeLeftSidebarClass:"be-nosidebar-left",collapsibleSidebarClass:"be-collapsible-sidebar",collapsibleSidebarCollapsedClass:"be-collapsible-sidebar-collapsed",openLeftSidebarOnClick:!0,transitionClass:"be-animate",openSidebarDelay:400},c={},p={},b=$("body"),f=$(".be-wrapper"),u=$(".be-left-sidebar"),C=$(".be-right-sidebar"),v=$(".be-scroller-aside"),h=!1;function m(e){var s=$("<div>",{class:e}).appendTo("body"),a=s.css("background-color");return s.remove(),a}function g(e){e.update()}function S(e){e.destroy()}function w(e){return new PerfectScrollbar(e[0],{wheelPropagation:!1})}function T(){$(".be-scroller",C);var e=$(".be-scroller-chat",C),s=$(".be-scroller-todo",C),a=$(".be-scroller-settings",C);function l(){b.removeClass(d.openRightSidebarClass).addClass(d.transitionClass),L()}C.length>0&&($(".be-toggle-right-sidebar").on("click",function(e){h&&b.hasClass(d.openRightSidebarClass)?l():h||(b.addClass(d.openRightSidebarClass+" "+d.transitionClass),h=!0),e.preventDefault()}),$(document).on("mousedown touchstart",function(e){!$(e.target).closest(C).length&&b.hasClass(d.openRightSidebarClass)&&(d.closeRsOnClickOutside||$.isSm())&&l()})),void 0!==t&&t&&t.nodeName||(t=w(e)),void 0!==o&&o&&o.nodeName||(o=w(s)),void 0!==n&&n&&n.nodeName||(n=w(a)),$(window).resize(function(){x(function(){g(t),g(o),g(n)},500,"be_rs_update_scroller")}),$('a[data-toggle="tab"]',C).on("shown.bs.tab",function(e){g(t),g(o),g(n)})}function L(){h=!0,setTimeout(function(){h=!1},d.openSidebarDelay)}function y(){var e=$(".be-right-sidebar .tab-chat"),s=$(".chat-contacts",e),a=$(".chat-window",e),l=$(".chat-messages",a),t=$(".content ul",l),o=$(".be-scroller-messages",l),n=$(".chat-input",a),r=$("input",n),d=$(".send-msg",n);function c(e,s){var a=$('<li class="'+(s?"self":"friend")+'"></li>');""!=e&&($('<div class="msg">'+e+"</div>").appendTo(a),a.appendTo(t),o.stop().animate({scrollTop:o.prop("scrollHeight")},900,"swing"),g(i))}$(".user a",s).on("click",function(s){e.hasClass("chat-opened")||(e.addClass("chat-opened"),void 0!==i&&i&&i.nodeName||(i=w(o))),s.preventDefault()}),$(".title .return",a).on("click",function(s){e.hasClass("chat-opened")&&e.removeClass("chat-opened"),k()}),r.keypress(function(e){var s=e.keyCode?e.keyCode:e.which,a=$(this).val();"13"==s&&(c(a,!0),$(this).val("")),e.stopPropagation()}),d.on("click",function(){c(r.val(),!0),r.val("")})}function k(){void 0!==e&&e&&e.nodeName||(e=w($(".be-scroller")))}var _,x=(_={},function(e,s,a){a||(a="x1x2x3x4"),_[a]&&clearTimeout(_[a]),_[a]=setTimeout(e,s)});return{conf:d,color:c,scroller:p,init:function(_){var N,D;$.extend(d,_),FastClick.attach(document.body),d.enableLeftSidebar?function(){var e,t,o=$(".sidebar-elements > li > a",u),n=$(".sidebar-elements li a",u),i=$(".left-sidebar-scroll",u),r=$(".left-sidebar-toggle",u),c=!!d.openLeftSidebarOnClick;function p(){return f.hasClass(d.collapsibleSidebarCollapsedClass)}function C(e,a){var l=$(a.currentTarget),t=$(e).parent(),o=$("li.open",t),n=!l.closest(u).length,i=d.leftSidebarSlideSpeed,r=l.parents().eq(1).hasClass("sidebar-elements");!$.isSm()&&p()&&(r||n)?(t.removeClass("open"),e.removeClass("visible"),o.removeClass("open").removeAttr("style")):e.slideUp({duration:i,complete:function(){t.removeClass("open"),$(this).removeAttr("style"),o.removeClass("open").removeAttr("style"),f.hasClass("be-fixed-sidebar")&&g(s)}})}function v(e,a){var t=$(e),o=$(t).parent(),n=$(t).next(),i=d.leftSidebarSlideSpeed,r=$(a.currentTarget).parents().eq(1).hasClass("sidebar-elements"),c=o.siblings(".open");c&&C($("> ul",c),a),!$.isSm()&&p()&&r?(void 0!==l&&l&&l.nodeName||(l=w(o.find(".be-scroller"))),o.addClass("open"),n.addClass("visible"),S(l),void 0!==l&&l&&l.nodeName||(l=w(o.find(".be-scroller")))):n.slideDown({duration:i,complete:function(){o.addClass("open"),$(this).removeAttr("style"),f.hasClass("be-fixed-sidebar")&&g(s)}})}f.hasClass(d.collapsibleSidebarClass)&&(t=void 0!==e?e:$(".sidebar-elements > li",u),$.each(t,function(){var e=$(this).find("> a span").html(),s=$(this).find("> ul"),a=$("> li",s);e=$('<li class="title">'+e+"</li>");var l=$('<li class="nav-items"><div class="be-scroller"><div class="content"><ul></ul></div></div></li>');s.find("> li.title").length||(s.prepend(e),a.appendTo(l.find(".content ul")),l.appendTo(s))}),$(".be-toggle-left-sidebar").on("click",function(){f.hasClass(d.collapsibleSidebarCollapsedClass)?(f.removeClass(d.collapsibleSidebarCollapsedClass),$("li.open",u).removeClass("open"),$("li.active",u).parents(".parent").addClass("active open"),void 0!==a&&a&&a.nodeName||(a=w($(".be-scroller",u))),S(a)):(f.addClass(d.collapsibleSidebarCollapsedClass),$("li.active",u).parents(".parent").removeClass("open"),$("li.open",u).removeClass("open"))}),function(){for(var e=$(".sidebar-elements > li > a",u),s=0;s<=e.length;s++){var a=e[s],l=$("> span",a).text();$(a).attr({"data-toggle":"tooltip","data-placement":"right",title:l}),$(a).tooltip({trigger:"manual"})}e.on("mouseenter",function(){!$.isSm()&&f.hasClass(d.collapsibleSidebarCollapsedClass)&&$(this).tooltip("show")}),e.on("mouseleave",function(){$(this).tooltip("hide")})}(),c||(o.on("mouseover",function(e){p()&&v(this,e)}),o.on("touchstart",function(e){var s=$(this),a=s.parent(),l=s.next();p()&&!$.isSm()&&(a.hasClass("open")?C(l,e):v(this,e),$(this).next().is("ul")&&e.preventDefault())}),o.on("mouseleave",function(e){var s=$(this),a=s.parent(),l=a.find("> ul");!$.isSm()&&p()&&(l.length>0?setTimeout(function(){l.is(":hover")?l.on("mouseleave",function(){setTimeout(function(){s.is(":hover")||(C(l,e),l.off("mouseleave"))},300)}):C(l,e)},300):a.removeClass("open"))})),$(document).on("mousedown touchstart",function(e){$(e.target).closest(u).length||$.isSm()||C($("ul.visible",u),e)})),n.on("click",function(e){var s=$(this),a=s.parent(),l=s.next();s.parents().eq(1).hasClass("sidebar-elements"),a.siblings(".open"),a.hasClass("open")?C(l,e):v(this,e),s.next().is("ul")&&e.preventDefault()}),f.hasClass(d.collapsibleSidebarCollapsedClass)?$("li.active",u).parents(".parent").addClass("active"):$("li.active",u).parents(".parent").addClass("active open"),f.hasClass("be-fixed-sidebar")&&($.isSm()&&!f.hasClass(d.offCanvasLeftSidebarClass)||void 0!==s&&s&&s.nodeName||(s=w(i)),$(window).resize(function(){x(function(){$.isSm()&&!f.hasClass(d.offCanvasLeftSidebarClass)?S(s):i.hasClass("ps")?g(s):void 0!==s&&s&&s.nodeName||(s=w(i))},500,"be_update_scroller")})),r.on("click",function(e){var s=$(this).next(".left-sidebar-spacer");$(this).toggleClass("open"),s.slideToggle(d.leftSidebarToggleSpeed,function(){$(this).removeAttr("style").toggleClass("open")})}),f.hasClass(d.offCanvasLeftSidebarClass)&&(d.toggleLeftSidebarButton.on("click",function(e){h&&b.hasClass(d.openLeftSidebarClass)?(b.removeClass(d.openLeftSidebarClass),L()):(b.addClass(d.openLeftSidebarClass+" "+d.transitionClass),h=!0),e.preventDefault()}),$(document).on("mousedown touchstart",function(e){$(e.target).closest(u).length||$(e.target).closest(d.toggleLeftSidebarButton).length||!b.hasClass(d.openLeftSidebarClass)||(b.removeClass(d.openLeftSidebarClass),L())}))}():f.addClass(d.disabledLeftSidebarClass),T(),y(),d.enableSwipe&&f.swipe({allowPageScroll:"vertical",preventDefaultEvents:!1,fallbackToMouseEvents:!1,swipeLeft:function(e){!h&&C.length>0&&(b.addClass(d.openRightSidebarClass+" "+d.transitionClass),h=!0)},threshold:d.swipeTreshold}),d.scrollTop&&((N=$('<div class="be-scroll-top"></div>')).appendTo("body"),$(window).on("scroll",function(){$(this).scrollTop()>220?N.fadeIn(500):N.fadeOut(500)}),N.on("touchstart mouseup",function(e){$("html, body").animate({scrollTop:0},500),e.preventDefault()})),v.length&&(D=v,r=w(v),$(window).resize(function(){$.isSm()&&!f.hasClass(d.offCanvasLeftSidebarClass)?S(r):D.hasClass("ps")?g(r):void 0!==r&&r&&r.nodeName||(r=w(v))})),k(),c.primary=m("clr-primary"),c.success=m("clr-success"),c.warning=m("clr-warning"),c.danger=m("clr-danger"),c.grey=m("clr-grey"),p.be_scroller=e,p.left_sidebar_scroll=s,p.be_left_sidebar_scroll=a,p.sub_menu_scroll=l,p.chat_scroll=t,p.todo_scroll=o,p.settings_scroll=n,p.messages_scroll=i,p.aside_scroll=r,p.updateScroller=g,p.destroyScroller=S,p.initScroller=w,$(".be-connections").on("click",function(e){e.stopPropagation()}),$(".dropdown").on("shown.bs.dropdown",function(){g(e)}),$(".nav-tabs").on("shown.bs.tab",function(s){g(e)}),$('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="popover"]').popover(),$(".modal").on("show.bs.modal",function(){$("html").addClass("be-modal-open")}),$(".modal").on("hidden.bs.modal",function(){$("html").removeClass("be-modal-open")})},activeItemLeftSidebar:function(e){var s=$(e).parent(),a=$(s).parents("li");s.hasClass("active")||($("li.active",u).removeClass("active"),$(a).addClass("active"),$(s).addClass("active"))}}}();